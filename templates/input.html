{% extends 'base.html' %}

{% block content %}
    <div class="page_title">{{ latest_rec.weight_menu }}の重量記録</div>
    <form method="post" action="">
        {% csrf_token %}
        <p>重量(Kg)</p>
        <p>{{ form.weight_record }}</p>
        <p>回数(Rep)</p>
        <p>{{ form.rep }}</p>
        <p id="volume_label">負荷量(Kg*Rep)</p>
        <p id="volume_var">0Kg</p>
        <p>
            {{ form.next_weight_up }}
            <label for="next_weight_up_id" class="next_weight_up_label">次回重量UP</labal>
        </p>
        <input class="button" type="button" value="入力" onclick="submit();">
    </form>
    <div class="record latest_title" id="record latest_title">前回の記録</div>
    <div class="record latest_record" id="record latest_record">{{latest_rec.weight_record}}Kg / {{latest_rec.created_at|date:"Y-m-d"}}</div>
    {% if messages %}
        {% for message in messages %}
            <div class="input_success_message" id="input_success_message">{{ message }}</div>
        {% endfor %}
    {% endif %}
    <div class="record max_title">MAX記録</div>
    <div class="record max_record">{{max_rec.weight_record}}Kg / {{max_rec.created_at|date:"Y-m-d"}}</div>
    <!--
    <script type="text/javascript">
        if (document.getElementById("input_success_message") != null) {
            document.getElementById("record latest_title").innerHTML = '今回の記録'
            document.getElementById("record latest_record").style.backgroundColor = 'red'
        }

        var volume_var = document.getElementById('volume_var');
        var weight_record_area = document.getElementById('weight_record_area');
        var rep_area = document.getElementById('rep_area');

        weight_record_area.addEventListener('change', volume_calc, false);
        rep_area.addEventListener('change', volume_calc, false);
        
        function volume_calc() {
            console.log(weight_record_area.value);
            console.log(rep_area.value);
            var wra = weight_record_area.value;
            var re = rep_area.value;
            var result = wra * re;
            console.log(result);

            volume_var.innerHTML = result + 'Kg'
        }
    </script>
    -->
{% endblock %}